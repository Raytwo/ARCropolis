name: build_branch
on: 
  push:
    branches:
      - master

jobs:
  plugin_build:
    env:
      PLUGIN_NAME: ARCropolis
    runs-on: ubuntu-latest
    container: 
      image: jugeeya/cargo-skyline:2.1.0-dkp
    steps:
    - name: checkout version
      uses: actions/checkout@v2

    - uses: actions-rs/toolchain@v1
      with:
        toolchain: stable
        components: rustfmt
        override: true

    # format if necessary
    - name: automatic format check
      uses: mbrobbel/rustfmt-check@master
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
